# External dependencies for running the fairspace
external:
  keycloak:
    baseUrl: https://keycloak.ci.fairway.app
    realm: ci
    clientId: fairspace-ci-private
    clientSecret: 4c4e5e3b-a6ed-45fd-a394-46c4f5eea510

# Settings for fairspace
fairspace:
  name: "CI Fairspace"
  description: "CI Fairspace"
  ingress:
    domain: fairspace.ci.fairway.app
  features: []
  services:
    JupyterHub: https://jupyter.fairspace.ci.fairway.app/user/${username}/lab
  storages:
    test:
      name: test
      label: "Test storage"
      url: /api/storages/test/webdav
      search-url: /api/storages/test/search
      root-directory-iri: http://fairspace.test.fairway.app/api/webdav

# Specific settings for Saturn subchart
saturn:
  persistence:
    files:
      size: 60Gi
      storageClass: expandable
    database:
      size: 60Gi
      storageClass: expandable
  resources:
    limits:
      cpu: 1
      memory: 16Gi
    requests:
      cpu: 500m
      memory: 512Mi
  image:
    pullPolicy: Always
  customStorageClass:
    create: true
    name: expandable
    type: pd-standard
    provisioner: kubernetes.io/gce-pd
    allowVolumeExpansion: true

# Specific settings for Pluto subchart
pluto:
  image:
    pullPolicy: Always
  socketTimeoutMillis: 10000
  connectTimeoutMillis: 2000
  maxFileSize: 1GB
  maxRequestSize: 1GB
  backends:
    storageRoutes:
      storage-test-webdav:
        path: ${pluto.storages.test.url}/**
        url: http://fairspace.test.fairway.app/api/webdav
      storage-test-search:
        path: ${pluto.storages.test.search-url}/**
        url: http://fairspace.test.fairway.app/api/search/files
